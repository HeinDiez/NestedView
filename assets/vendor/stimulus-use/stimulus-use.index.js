/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/stimulus-use@0.52.2/dist/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Controller as e}from"@hotwired/stimulus";const t=(e,t)=>{const s=e[t];return"function"==typeof s?s:(...e)=>{}},s=(e,t,s)=>{let n=e;return!0===s?n=`${t.identifier}:${e}`:"string"==typeof s&&(n=`${s}:${e}`),n},n=(e,t,s)=>{const{bubbles:n,cancelable:i,composed:o}=t||{bubbles:!0,cancelable:!0,composed:!0};t&&Object.assign(s,{originalEvent:t});return new CustomEvent(e,{bubbles:n,cancelable:i,composed:o,detail:s})};function i(e){return e.replace(/(?:[_-])([a-z0-9])/g,((e,t)=>t.toUpperCase()))}const o={debug:!1,logger:console,dispatchEvent:!0,eventPrefix:!0};class r{constructor(e,t={}){var s,n,i;this.log=(e,t)=>{this.debug&&(this.logger.groupCollapsed(`%c${this.controller.identifier} %c#${e}`,"color: #3B82F6","color: unset"),this.logger.log(Object.assign({controllerId:this.controllerId},t)),this.logger.groupEnd())},this.warn=e=>{this.logger.warn(`%c${this.controller.identifier} %c${e}`,"color: #3B82F6; font-weight: bold","color: unset")},this.dispatch=(e,t={})=>{if(this.dispatchEvent){const{event:s}=t,n=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]])}return s}(t,["event"]),i=this.extendedEvent(e,s||null,n);this.targetElement.dispatchEvent(i),this.log("dispatchEvent",Object.assign({eventName:i.type},n))}},this.call=(e,t={})=>{const s=this.controller[e];if("function"==typeof s)return s.call(this.controller,t)},this.extendedEvent=(e,t,s)=>{const{bubbles:n,cancelable:i,composed:o}=t||{bubbles:!0,cancelable:!0,composed:!0};t&&Object.assign(s,{originalEvent:t});return new CustomEvent(this.composeEventName(e),{bubbles:n,cancelable:i,composed:o,detail:s})},this.composeEventName=e=>{let t=e;return!0===this.eventPrefix?t=`${this.controller.identifier}:${e}`:"string"==typeof this.eventPrefix&&(t=`${this.eventPrefix}:${e}`),t},this.debug=null!==(n=null!==(s=null==t?void 0:t.debug)&&void 0!==s?s:e.application.stimulusUseDebug)&&void 0!==n?n:o.debug,this.logger=null!==(i=null==t?void 0:t.logger)&&void 0!==i?i:o.logger,this.controller=e,this.controllerId=e.element.id||e.element.dataset.id,this.targetElement=(null==t?void 0:t.element)||e.element;const{dispatchEvent:r,eventPrefix:c}=Object.assign({},o,t);Object.assign(this,{dispatchEvent:r,eventPrefix:c}),this.controllerInitialize=e.initialize.bind(e),this.controllerConnect=e.connect.bind(e),this.controllerDisconnect=e.disconnect.bind(e)}}const c=!0,l=!0,a=!0;class h extends r{constructor(e,t={}){var n,i,o,r;super(e,t),this.dispatch=(e,t={})=>{const{controller:n,targetElement:i,eventPrefix:o,bubbles:r,cancelable:c,log:l,warn:a}=this;Object.assign(t,{controller:n});const h=s(e,this.controller,o),d=new CustomEvent(h,{detail:t,bubbles:r,cancelable:c});return i.dispatchEvent(d),a("`useDispatch()` is deprecated. Please use the built-in `this.dispatch()` function from Stimulus. You can find more information on how to upgrade at: https://stimulus-use.github.io/stimulus-use/#/use-dispatch"),l("dispatch",{eventName:h,detail:t,bubbles:r,cancelable:c}),d},this.targetElement=null!==(n=t.element)&&void 0!==n?n:e.element,this.eventPrefix=null!==(i=t.eventPrefix)&&void 0!==i?i:c,this.bubbles=null!==(o=t.bubbles)&&void 0!==o?o:l,this.cancelable=null!==(r=t.cancelable)&&void 0!==r?r:a,this.enhanceController()}enhanceController(){Object.assign(this.controller,{dispatch:this.dispatch})}}const d=(e,t={})=>new h(e,t),u={overwriteDispatch:!0},b=(e,t={})=>{const{overwriteDispatch:s}=Object.assign({},u,t);Object.defineProperty(e,"isPreview",{get:()=>document.documentElement.hasAttribute("data-turbolinks-preview")||document.documentElement.hasAttribute("data-turbo-preview")}),Object.defineProperty(e,"isConnected",{get(){return!!Array.from(this.context.module.connectedContexts).find((e=>e===this.context))}}),Object.defineProperty(e,"csrfToken",{get(){return this.metaValue("csrf-token")}}),s&&d(e,t),Object.assign(e,{metaValue(e){const t=document.head.querySelector(`meta[name="${e}"]`);return t&&t.getAttribute("content")}})};class v extends e{constructor(e){super(e),this.isPreview=!1,this.isConnected=!1,this.csrfToken="",b(this,this.options)}}const m={events:["click","touchend"],onlyVisible:!0,dispatchEvent:!0,eventPrefix:!0},g=(e,t={})=>{const i=e,{onlyVisible:o,dispatchEvent:r,events:c,eventPrefix:l}=Object.assign({},m,t),a=e=>{const c=(null==t?void 0:t.element)||i.element;if(!(c.contains(e.target)||!function(e){const t=e.getBoundingClientRect(),s=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,i=t.top<=s&&t.top+t.height>0,o=t.left<=n&&t.left+t.width>0;return i&&o}(c)&&o)&&(i.clickOutside&&i.clickOutside(e),r)){const t=s("click:outside",i,l),o=n(t,e,{controller:i});c.dispatchEvent(o)}},h=()=>{null==c||c.forEach((e=>{window.addEventListener(e,a,!0)}))},d=()=>{null==c||c.forEach((e=>{window.removeEventListener(e,a,!0)}))},u=i.disconnect.bind(i);return Object.assign(i,{disconnect(){d(),u()}}),h(),[h,d]};class p extends e{}class f extends p{constructor(e){super(e),requestAnimationFrame((()=>{const[e,t]=g(this,this.options);Object.assign(this,{observe:e,unobserve:t})}))}}(class extends e{}).debounces=[];const E=(e,t=200)=>{let s=null;return function(){const n=Array.from(arguments),i=this,o=n.map((e=>e.params));s&&clearTimeout(s),s=setTimeout((()=>(n.forEach(((e,t)=>e.params=o[t])),e.apply(i,n))),t)}},x=(e,t)=>{const s=e;s.constructor.debounces.forEach((e=>{if("string"==typeof e&&(s[e]=E(s[e],null==t?void 0:t.wait)),"object"==typeof e){const{name:n,wait:i}=e;if(!n)return;s[n]=E(s[n],i||(null==t?void 0:t.wait))}}))};class y extends r{constructor(e,t={}){super(e,t),this.observe=()=>{this.targetElement.addEventListener("mouseenter",this.onEnter),this.targetElement.addEventListener("mouseleave",this.onLeave)},this.unobserve=()=>{this.targetElement.removeEventListener("mouseenter",this.onEnter),this.targetElement.removeEventListener("mouseleave",this.onLeave)},this.onEnter=e=>{this.call("mouseEnter",e),this.log("mouseEnter",{hover:!0}),this.dispatch("mouseEnter",{hover:!1})},this.onLeave=e=>{this.call("mouseLeave",e),this.log("mouseLeave",{hover:!1}),this.dispatch("mouseLeave",{hover:!1})},this.controller=e,this.enhanceController(),this.observe()}enhanceController(){const e=this.controller.disconnect.bind(this.controller);Object.assign(this.controller,{disconnect:()=>{this.unobserve(),e()}})}}const w=(e,t={})=>{const s=new y(e,t);return[s.observe,s.unobserve]};class O extends e{}class C extends O{constructor(e){super(e),requestAnimationFrame((()=>{const[e,t]=w(this,this.options);Object.assign(this,{observe:e,unobserve:t})}))}}const j={ms:6e4,initialState:!1,events:["mousemove","mousedown","resize","keydown","touchstart","wheel"],dispatchEvent:!0,eventPrefix:!0},A=(e,i={})=>{const o=e,{ms:r,initialState:c,events:l,dispatchEvent:a,eventPrefix:h}=Object.assign({},j,i);let d=c,u=setTimeout((()=>{d=!0,b()}),r);const b=e=>{const i=s("away",o,h);if(o.isIdle=!0,t(o,"away").call(o,e),a){const t=n(i,e||null,{controller:o});o.element.dispatchEvent(t)}},v=e=>{const i=s("back",o,h);if(o.isIdle=!1,t(o,"back").call(o,e),a){const t=n(i,e||null,{controller:o});o.element.dispatchEvent(t)}},m=e=>{d&&v(e),d=!1,clearTimeout(u),u=setTimeout((()=>{d=!0,b(e)}),r)},g=e=>{document.hidden||m(e)};d?b():v();const p=o.disconnect.bind(o),f=()=>{l.forEach((e=>{window.addEventListener(e,m)})),document.addEventListener("visibilitychange",g)},E=()=>{clearTimeout(u),l.forEach((e=>{window.removeEventListener(e,m)})),document.removeEventListener("visibilitychange",g)};return Object.assign(o,{disconnect(){E(),p()}}),f(),[f,E]};class T extends e{constructor(){super(...arguments),this.isIdle=!1}}class F extends T{constructor(e){super(e),requestAnimationFrame((()=>{const[e,t]=A(this,this.options);Object.assign(this,{observe:e,unobserve:t})}))}}const P={dispatchEvent:!0,eventPrefix:!0,visibleAttribute:"isVisible"},L=(e,i={})=>{const o=e,{dispatchEvent:r,eventPrefix:c,visibleAttribute:l}=Object.assign({},P,i),a=(null==i?void 0:i.element)||o.element;o.intersectionElements||(o.intersectionElements=[]),o.intersectionElements.push(a);const h=new IntersectionObserver((e=>{const[t]=e;t.isIntersecting?d(t):a.hasAttribute(l)&&u(t)}),i),d=e=>{if(a.setAttribute(l,"true"),t(o,"appear").call(o,e,h),r){const t=s("appear",o,c),i=n(t,null,{controller:o,entry:e,observer:h});a.dispatchEvent(i)}},u=e=>{if(a.removeAttribute(l),t(o,"disappear").call(o,e,h),r){const t=s("disappear",o,c),i=n(t,null,{controller:o,entry:e,observer:h});a.dispatchEvent(i)}},b=o.disconnect.bind(o),v=()=>{h.observe(a)},m=()=>{h.unobserve(a)},g=()=>o.intersectionElements.every((e=>e.hasAttribute(l))),p=g;return Object.assign(o,{isVisible:p,noneVisible:()=>0===o.intersectionElements.filter((e=>e.hasAttribute(l))).length,oneVisible:()=>1===o.intersectionElements.filter((e=>e.hasAttribute(l))).length,atLeastOneVisible:()=>o.intersectionElements.some((e=>e.hasAttribute(l))),allVisible:g,disconnect:()=>{m(),b()}}),v(),[v,m]};class N extends e{}class $ extends N{constructor(e){super(e),requestAnimationFrame((()=>{const[e,t]=L(this,this.options);Object.assign(this,{observe:e,unobserve:t})}))}}const V=(e,s)=>{const n=s=>{const n=e.data.get("src");if(!n)return;const o=e.element;e.isLoading=!0,t(e,"loading").call(e,n),o.onload=()=>{i(n)},o.src=n},i=s=>{e.isLoading=!1,e.isLoaded=!0,t(e,"loaded").call(e,s)},o=e.disconnect.bind(e),r=new IntersectionObserver((t=>{const[s]=t;s.isIntersecting&&!e.isLoaded&&n()}),s),c=()=>{r.observe(e.element)},l=()=>{r.unobserve(e.element)};return Object.assign(e,{isVisible:!1,disconnect(){l(),o()}}),c(),[c,l]};class I extends e{constructor(){super(...arguments),this.isLoading=!1,this.isLoaded=!1}}class k extends I{constructor(e){super(e),this.options={rootMargin:"10%"},requestAnimationFrame((()=>{const[e,t]=V(this,this.options);Object.assign(this,{observe:e,unobserve:t})}))}}const S={mediaQueries:{},dispatchEvent:!0,eventPrefix:!0,debug:!1};class U extends r{constructor(e,t={}){var s,n,o,r;super(e,t),this.matches=[],this.callback=e=>{const t=Object.keys(this.mediaQueries).find((t=>this.mediaQueries[t]===e.media));if(!t)return;const{media:s,matches:n}=e;this.changed({name:t,media:s,matches:n,event:e})},this.changed=e=>{const{name:t}=e;e.event&&(this.call(i(`${t}_changed`),e),this.dispatch(`${t}:changed`,e),this.log(`media query "${t}" changed`,e)),e.matches?(this.call(i(`is_${t}`),e),this.dispatch(`is:${t}`,e)):(this.call(i(`not_${t}`),e),this.dispatch(`not:${t}`,e))},this.observe=()=>{Object.keys(this.mediaQueries).forEach((e=>{const t=this.mediaQueries[e],s=window.matchMedia(t);s.addListener(this.callback),this.matches.push(s),this.changed({name:e,media:t,matches:s.matches})}))},this.unobserve=()=>{this.matches.forEach((e=>e.removeListener(this.callback)))},this.controller=e,this.mediaQueries=null!==(s=t.mediaQueries)&&void 0!==s?s:S.mediaQueries,this.dispatchEvent=null!==(n=t.dispatchEvent)&&void 0!==n?n:S.dispatchEvent,this.eventPrefix=null!==(o=t.eventPrefix)&&void 0!==o?o:S.eventPrefix,this.debug=null!==(r=t.debug)&&void 0!==r?r:S.debug,window.matchMedia?(this.enhanceController(),this.observe()):console.error("window.matchMedia() is not available")}enhanceController(){const e=this.controller.disconnect.bind(this.controller);Object.assign(this.controller,{disconnect:()=>{this.unobserve(),e()}})}}const q=(e,t={})=>{const s=new U(e,t);return[s.observe,s.unobserve]},D=e=>{var t;null===(t=e.constructor.memos)||void 0===t||t.forEach((t=>{((e,t,s)=>{Object.defineProperty(e,t,{value:s})})(e,t,e[t])}))};function M(e){const t=document.head.querySelector(`meta[name="${e}"]`);return t&&t.getAttribute("content")}function B(e){try{return JSON.parse(e)}catch(t){return e}}const z=(e,t={suffix:!0})=>{const s=e.constructor.metaNames,n=t.suffix;null==s||s.forEach((t=>{((e,t,s)=>{const n=s?`${i(t)}Meta`:i(t);Object.defineProperty(e,n,{get:()=>B(M(t))})})(e,t,n)})),Object.defineProperty(e,"metas",{get(){const e={};return null==s||s.forEach((t=>{const s=B(M(t));null!=s&&(e[i(t)]=s)})),e}})};class R extends r{constructor(e,t={}){super(e,t),this.observe=()=>{try{this.observer.observe(this.targetElement,this.options)}catch(e){this.controller.application.handleError(e,"At a minimum, one of childList, attributes, and/or characterData must be true",{})}},this.unobserve=()=>{this.observer.disconnect()},this.mutation=e=>{this.call("mutate",e),this.log("mutate",{entries:e}),this.dispatch("mutate",{entries:e})},this.targetElement=(null==t?void 0:t.element)||e.element,this.controller=e,this.options=t,this.observer=new MutationObserver(this.mutation),this.enhanceController(),this.observe()}enhanceController(){const e=this.controller.disconnect.bind(this.controller);Object.assign(this.controller,{disconnect:()=>{this.unobserve(),e()}})}}const Q=(e,t={})=>{const s=new R(e,t);return[s.observe,s.unobserve]};class H extends e{}class W extends H{constructor(e){super(e),requestAnimationFrame((()=>{const[e,t]=Q(this,this.options);Object.assign(this,{observe:e,unobserve:t})}))}}const _={dispatchEvent:!0,eventPrefix:!0},G=(e,i={})=>{const o=e,{dispatchEvent:r,eventPrefix:c}=Object.assign({},_,i),l=(null==i?void 0:i.element)||o.element,a=o.disconnect.bind(o),h=new ResizeObserver((e=>{const[i]=e;if(t(o,"resize").call(o,i.contentRect),r){const e=s("resize",o,c),t=n(e,null,{controller:o,entry:i});l.dispatchEvent(t)}})),d=()=>{h.observe(l)},u=()=>{h.unobserve(l)};return Object.assign(o,{disconnect(){u(),a()}}),d(),[d,u]};class J extends e{}class Y extends J{constructor(e){super(e),requestAnimationFrame((()=>{const[e,t]=G(this,this.options);Object.assign(this,{observe:e,unobserve:t})}))}}class K extends r{constructor(e,t={}){super(e,t),this.observe=()=>{this.observer.observe(this.targetElement,{subtree:!0,characterData:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[this.targetSelector,this.scopedTargetSelector]})},this.unobserve=()=>{this.observer.disconnect()},this.mutation=e=>{for(const t of e)switch(t.type){case"attributes":let e=t.target.getAttribute(t.attributeName),s=t.oldValue;if(t.attributeName===this.targetSelector||t.attributeName===this.scopedTargetSelector){let n=this.targetsUsedByThisController(s),i=this.targetsUsedByThisController(e),o=n.filter((e=>!i.includes(e))),r=i.filter((e=>!n.includes(e)));o.forEach((e=>this.targetRemoved(this.stripIdentifierPrefix(e),t.target,"attributeChange"))),r.forEach((e=>this.targetAdded(this.stripIdentifierPrefix(e),t.target,"attributeChange")))}break;case"characterData":let n=this.findTargetInAncestry(t.target);if(null==n)return;this.targetsUsedByThisControllerFromNode(n).forEach((e=>{this.targetChanged(this.stripIdentifierPrefix(e),n,"domMutation")}));break;case"childList":let{addedNodes:i,removedNodes:o}=t;i.forEach((e=>this.processNodeDOMMutation(e,this.targetAdded))),o.forEach((e=>this.processNodeDOMMutation(e,this.targetRemoved)))}},this.controller=e,this.options=t,this.targetElement=e.element,this.identifier=e.scope.identifier,this.identifierPrefix=`${this.identifier}.`,this.targetSelector=e.scope.schema.targetAttribute,this.scopedTargetSelector=`data-${this.identifier}-target`,this.targets=t.targets||e.constructor.targets,this.prefixedTargets=this.targets.map((e=>`${this.identifierPrefix}${e}`)),this.observer=new MutationObserver(this.mutation),this.enhanceController(),this.observe()}processNodeDOMMutation(e,t){let s=e,n=t,i=[];"#text"==s.nodeName||0==this.targetsUsedByThisControllerFromNode(s).length?(n=this.targetChanged,s=this.findTargetInAncestry(e)):i=this.targetsUsedByThisControllerFromNode(s),null!=s&&(0==i.length&&(i=this.targetsUsedByThisControllerFromNode(s)),i.forEach((e=>{n.call(this,this.stripIdentifierPrefix(e),s,"domMutation")})))}findTargetInAncestry(e){let t=e,s=[];for("#text"!=t.nodeName&&(s=this.targetsUsedByThisControllerFromNode(t));null!==t.parentNode&&t.parentNode!=this.targetElement&&0==s.length;)if(t=t.parentNode,"#text"!==t.nodeName){if(this.targetsUsedByThisControllerFromNode(t).length>0)return t}return"#text"==t.nodeName||null==t.parentNode?null:t.parentNode==this.targetElement&&this.targetsUsedByThisControllerFromNode(t).length>0?t:null}targetAdded(e,s,n){let i=`${e}TargetAdded`;this.controller[i]&&t(this.controller,i).call(this.controller,s),this.log("targetAdded",{target:e,node:s,trigger:n})}targetRemoved(e,s,n){let i=`${e}TargetRemoved`;this.controller[i]&&t(this.controller,i).call(this.controller,s),this.log("targetRemoved",{target:e,node:s,trigger:n})}targetChanged(e,s,n){let i=`${e}TargetChanged`;this.controller[i]&&t(this.controller,i).call(this.controller,s),this.log("targetChanged",{target:e,node:s,trigger:n})}targetsUsedByThisControllerFromNode(e){if("#text"==e.nodeName||"#comment"==e.nodeName)return[];let t=e;return this.targetsUsedByThisController(t.getAttribute(this.scopedTargetSelector)||t.getAttribute(this.targetSelector))}targetsUsedByThisController(e){e=e||"";let t=this.stripIdentifierPrefix(e).split(" ");return this.targets.filter((e=>-1!==t.indexOf(e)))}stripIdentifierPrefix(e){return e.replace(new RegExp(this.identifierPrefix,"g"),"")}enhanceController(){const e=this.controller.disconnect.bind(this.controller);Object.assign(this.controller,{disconnect:()=>{this.unobserve(),e()}})}}const X=(e,t={})=>{const s=new K(e,t);return[s.observe,s.unobserve]};class Z extends e{}class ee extends Z{constructor(e){super(e),requestAnimationFrame((()=>{const[e,t]=X(this,this.options);Object.assign(this,{observe:e,unobserve:t})}))}}(class extends e{}).throttles=[];function te(e,t=200){let s;return function(){const n=arguments,i=this;s||(s=!0,e.apply(i,n),setTimeout((()=>s=!1),t))}}const se=(e,t={})=>{var s;const n=e;null===(s=n.constructor.throttles)||void 0===s||s.forEach((e=>{if("string"==typeof e&&(n[e]=te(n[e],null==t?void 0:t.wait)),"object"==typeof e){const{name:s,wait:i}=e;if(!s)return;n[s]=te(n[s],i||(null==t?void 0:t.wait))}}))},ne={enterFromClass:"enter",enterActiveClass:"enterStart",enterToClass:"enterEnd",leaveFromClass:"leave",leaveActiveClass:"leaveStart",leaveToClass:"leaveEnd"},ie={transitioned:!1,hiddenClass:"hidden",preserveOriginalClass:!0,removeToClasses:!0},oe=(e,t={})=>{var s,n,i;const o=e,r=o.element.dataset.transitionTarget;let c;r&&(c=o[`${r}Target`]);const l=(null==t?void 0:t.element)||c||o.element;if(!(l instanceof HTMLElement||l instanceof SVGElement))return;const a=l.dataset,h=parseInt(a.leaveAfter||"")||t.leaveAfter||0,{transitioned:d,hiddenClass:u,preserveOriginalClass:b,removeToClasses:v}=Object.assign({},ie,t),m=null===(s=o.enter)||void 0===s?void 0:s.bind(o),g=null===(n=o.leave)||void 0===n?void 0:n.bind(o),p=null===(i=o.toggleTransition)||void 0===i?void 0:i.bind(o);async function f(e){if(o.transitioned)return;o.transitioned=!0,m&&m(e);const s=re("enterFrom",t,a),n=re("enterActive",t,a),i=re("enterTo",t,a),r=re("leaveTo",t,a);u&&l.classList.remove(u),v||O(l,r),await y(l,s,n,i,u,b,v),h>0&&setTimeout((()=>{E(e)}),h)}async function E(e){if(!o.transitioned)return;o.transitioned=!1,g&&g(e);const s=re("leaveFrom",t,a),n=re("leaveActive",t,a),i=re("leaveTo",t,a),r=re("enterTo",t,a);v||O(l,r),await y(l,s,n,i,u,b,v),u&&l.classList.add(u)}function x(e){p&&p(e),o.transitioned?E():f()}async function y(e,t,s,n,i,o,r){const c=[];o&&(t.forEach((t=>e.classList.contains(t)&&t!==i&&c.push(t))),s.forEach((t=>e.classList.contains(t)&&t!==i&&c.push(t))),n.forEach((t=>e.classList.contains(t)&&t!==i&&c.push(t)))),w(e,t),O(e,c),w(e,s),await async function(){return new Promise((e=>{requestAnimationFrame((()=>{requestAnimationFrame(e)}))}))}(),O(e,t),w(e,n),await async function(e){return new Promise((t=>{const s=1e3*Number(getComputedStyle(e).transitionDuration.split(",")[0].replace("s",""));setTimeout((()=>{t(s)}),s)}))}(e),O(e,s),r&&O(e,n),w(e,c)}function w(e,t){t.length>0&&e.classList.add(...t)}function O(e,t){t.length>0&&e.classList.remove(...t)}return o.transitioned=d,d?(u&&l.classList.remove(u),f()):(u&&l.classList.add(u),E()),Object.assign(o,{enter:f,leave:E,toggleTransition:x}),[f,E,x]};function re(e,t,s){const n=`transition${e[0].toUpperCase()}${e.substr(1)}`,i=ne[e],o=t[e]||s[n]||s[i]||" ";return 0!==(r=o).length&&r.trim()?o.split(" "):[];var r}class ce extends e{constructor(){super(...arguments),this.transitioned=!1}}class le extends ce{constructor(e){super(e),requestAnimationFrame((()=>{oe(this,this.options)}))}}class ae extends r{constructor(e,t={}){super(e,t),this.observe=()=>{this.controller.isVisible=!document.hidden,document.addEventListener("visibilitychange",this.handleVisibilityChange),this.handleVisibilityChange()},this.unobserve=()=>{document.removeEventListener("visibilitychange",this.handleVisibilityChange)},this.becomesInvisible=e=>{this.controller.isVisible=!1,this.call("invisible",e),this.log("invisible",{isVisible:!1}),this.dispatch("invisible",{event:e,isVisible:!1})},this.becomesVisible=e=>{this.controller.isVisible=!0,this.call("visible",e),this.log("visible",{isVisible:!0}),this.dispatch("visible",{event:e,isVisible:!0})},this.handleVisibilityChange=e=>{document.hidden?this.becomesInvisible(e):this.becomesVisible(e)},this.controller=e,this.enhanceController(),this.observe()}enhanceController(){const e=this.controllerDisconnect;Object.assign(this.controller,{disconnect:()=>{this.unobserve(),e()}})}}const he=(e,t={})=>{const s=new ae(e,t);return[s.observe,s.unobserve]};class de extends e{constructor(){super(...arguments),this.isVisible=!1}}class ue extends de{constructor(e){super(e),requestAnimationFrame((()=>{const[e,t]=he(this,this.options);Object.assign(this,{observe:e,unobserve:t})}))}}class be extends r{constructor(e,t={}){super(e,t),this.observe=()=>{document.hasFocus()?this.becomesFocused():this.becomesUnfocused(),this.interval=setInterval((()=>{this.handleWindowFocusChange()}),this.intervalDuration)},this.unobserve=()=>{clearInterval(this.interval)},this.becomesUnfocused=e=>{this.controller.hasFocus=!1,this.call("unfocus",e),this.log("unfocus",{hasFocus:!1}),this.dispatch("unfocus",{event:e,hasFocus:!1})},this.becomesFocused=e=>{this.controller.hasFocus=!0,this.call("focus",e),this.log("focus",{hasFocus:!0}),this.dispatch("focus",{event:e,hasFocus:!0})},this.handleWindowFocusChange=e=>{document.hasFocus()&&!this.controller.hasFocus?this.becomesFocused(e):!document.hasFocus()&&this.controller.hasFocus&&this.becomesUnfocused(e)},this.controller=e,this.intervalDuration=t.interval||200,this.enhanceController(),this.observe()}enhanceController(){const e=this.controllerDisconnect;Object.assign(this.controller,{disconnect:()=>{this.unobserve(),e()}})}}const ve=(e,t={})=>{const s=new be(e,t);return[s.observe,s.unobserve]};class me extends e{constructor(){super(...arguments),this.hasFocus=!1}}class ge extends me{constructor(e){super(e),requestAnimationFrame((()=>{const[e,t]=ve(this,this.options);Object.assign(this,{observe:e,unobserve:t})}))}}const pe=e=>{const s=e,n=e=>{const{innerWidth:n,innerHeight:i}=window,o={height:i||1/0,width:n||1/0,event:e};t(s,"windowResize").call(s,o)},i=s.disconnect.bind(s),o=()=>{window.addEventListener("resize",n),n()},r=()=>{window.removeEventListener("resize",n)};return Object.assign(s,{disconnect(){r(),i()}}),o(),[o,r]};class fe extends e{}class Ee extends fe{constructor(e){super(e),requestAnimationFrame((()=>{const[e,t]=pe(this);Object.assign(this,{observe:e,unobserve:t})}))}}function xe(){throw"[stimulus-use] Notice: The import for `useHotkeys()` has been moved from `stimulus-use` to `stimulus-use/hotkeys`. \nPlease change the import accordingly and add `hotkey-js` as a dependency to your project. \n\nFor more information see: https://stimulus-use.github.io/stimulus-use/#/use-hotkeys?id=importing-the-behavior"}export{v as ApplicationController,f as ClickOutsideController,C as HoverController,F as IdleController,$ as IntersectionController,k as LazyLoadController,W as MutationController,Y as ResizeController,ee as TargetMutationController,le as TransitionController,y as UseHover,R as UseMutation,K as UseTargetMutation,ae as UseVisibility,be as UseWindowFocus,ue as VisibilityController,ge as WindowFocusController,Ee as WindowResizeController,E as debounce,b as useApplication,g as useClickOutside,x as useDebounce,d as useDispatch,xe as useHotkeys,w as useHover,A as useIdle,L as useIntersection,V as useLazyLoad,q as useMatchMedia,D as useMemo,z as useMeta,Q as useMutation,G as useResize,X as useTargetMutation,se as useThrottle,oe as useTransition,he as useVisibility,ve as useWindowFocus,pe as useWindowResize};export default null;
